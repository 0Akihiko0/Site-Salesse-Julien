<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact</title>
    <link rel="icon" type="image/png" href="Favicon.png?v=1">
    
    <script src="tarteaucitron/tarteaucitron.js"></script>
    <script src="cookies.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        body { 
            background-color: white; 
            color: #0a0a0a; 
            transition: background-color 0.5s ease, color 0.5s ease; 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            -webkit-font-smoothing: antialiased;
        }
        .dark body { background-color: #0a0a0a; color: white; }

        .hero-title { 
            font-size: clamp(2.5rem, 12vw, 8.5rem); 
            line-height: 0.85;
            letter-spacing: -0.05em;
            font-weight: 900;
        }

        .reveal { opacity: 0; transform: translateY(20px); transition: all 0.8s ease-out; }
        .reveal.active { opacity: 1; transform: translateY(0); }

        .input-underline {
            background: transparent;
            border: none;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            color: inherit;
            border-radius: 0;
            transition: all 0.4s ease;
            width: 100%;
            max-width: 100%;
        }
        .dark .input-underline { border-bottom-color: rgba(255,255,255,0.1); }
        .input-underline:focus { outline: none; border-bottom-color: #0a0a0a; padding-left: 8px; }
        .dark .input-underline:focus { border-bottom-color: white; }

        .contact-card {
            background: #f9f9fb;
            border: 1px solid rgba(0,0,0,0.05);
        }
        .dark .contact-card { background: #111111; border-color: rgba(255,255,255,0.05); }

        .btn-send {
            background-color: #0a0a0a !important;
            color: white !important;
            font-weight: 900;
            transition: all 0.3s ease;
        }
        .dark .btn-send { 
            background-color: white !important;
            color: #0a0a0a !important; 
        }
        .btn-send:hover:not(:disabled) { transform: scale(1.02); opacity: 0.9; }

        /* Correction finale du Captcha pour éviter les bords coupés */
        .captcha-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 80px;
            width: 100%;
            max-width: 304px; /* Largeur max réelle du captcha */
            margin: 0 auto;
            overflow: visible; /* Important pour ne pas couper le scale */
        }
        .h-captcha { 
            transform: scale(0.85); 
            transform-origin: center center;
        }
        @media (max-width: 768px) {
            .h-captcha { transform: scale(0.75); }
        }
    </style>
</head>
<body class="antialiased overflow-x-hidden">

    <script src="navbar.js"></script>
    <script>addNavbar("contact");</script>

    <main class="min-h-screen flex flex-col items-center justify-center px-4 md:px-6 pt-28 md:pt-40 pb-20">
        <div class="w-full max-w-5xl">
            <div class="mb-12 md:mb-20">
                <h1 class="hero-title uppercase mb-6 md:mb-8 reveal">
                    Contact<span class="text-zinc-200 dark:text-zinc-800">.</span>
                </h1>
                <p class="text-base md:text-xl font-medium opacity-60 max-w-md leading-tight reveal" style="transition-delay: 0.2s">
                    Une question ou simplement pour échanger, laissez un message via le formulaire.
                </p>
            </div>

            <div class="contact-card p-6 md:p-16 rounded-[2rem] md:rounded-[2.5rem] reveal shadow-2xl" style="transition-delay: 0.4s">
                <form action="https://api.web3forms.com/submit" method="POST" id="contact-form" class="space-y-8 md:space-y-12">
                    
                    <input type="hidden" name="access_key" value="d1a7cada-43fc-40bf-8f24-601b6295e696">

                    <div class="grid md:grid-cols-2 gap-8 md:gap-12">
                        <div class="flex flex-col gap-2 md:gap-3">
                            <label for="name" class="text-[9px] md:text-[10px] uppercase tracking-[0.3em] font-black opacity-40">Identification</label>
                            <input type="text" id="name" name="name" required autocomplete="name" class="input-underline py-3 md:py-4 text-lg md:text-xl" placeholder="Votre nom">
                        </div>
                        <div class="flex flex-col gap-2 md:gap-3">
                            <label for="email" class="text-[9px] md:text-[10px] uppercase tracking-[0.3em] font-black opacity-40">Votre email</label>
                            <input type="email" id="email" name="email" required autocomplete="email" class="input-underline py-3 md:py-4 text-lg md:text-xl" placeholder="votre@email.com">
                        </div>
                    </div>

                    <div class="flex flex-col gap-2 md:gap-3">
                        <label for="message" class="text-[9px] md:text-[10px] uppercase tracking-[0.3em] font-black opacity-40">Message</label>
                        <textarea id="message" name="message" rows="4" required class="input-underline py-3 md:py-4 text-lg md:text-xl resize-none" placeholder="Écrivez ici..."></textarea>
                    </div>

                    <div class="flex flex-col md:flex-row items-center justify-between gap-8 md:gap-10">
                        <div class="captcha-wrapper">
                            <div class="h-captcha" data-sitekey="f7178873-ba92-4874-9842-8302f30b9122"></div>
                        </div>

                        <button type="submit" id="submit-btn" class="btn-send w-full md:w-auto px-12 md:px-16 py-5 md:py-6 rounded-full uppercase text-[10px] tracking-[0.2em] active:scale-95">
                            Envoyer le message
                        </button>
                    </div>
                </form>

                <div id="success-overlay" class="hidden py-12 md:py-20 flex-col items-center justify-center text-center">
                    <div class="w-12 h-12 md:w-16 md:h-16 rounded-full border-2 border-current flex items-center justify-center mb-6 md:mb-8">
                        <i data-lucide="check" class="w-6 h-6 md:w-8 md:h-8"></i>
                    </div>
                    <h2 class="text-3xl md:text-4xl font-black uppercase mb-3 md:mb-4">Reçu</h2>
                    <p class="opacity-50 text-[10px] md:text-sm tracking-widest uppercase">Merci, je vous répondrai rapidement.</p>
                </div>
            </div>
        </div>
    </main>

    <script src="footer.js"></script>
    <script>addFooter();</script>
    <script src="loader.js"></script>

    <script>
        const scrollObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('active'); });
        }, { threshold: 0.1 });
        document.querySelectorAll('.reveal').forEach(el => scrollObserver.observe(el));

        window.addEventListener('load', () => { if (window.lucide) lucide.createIcons(); });

        const form = document.getElementById('contact-form');
        const successOverlay = document.getElementById('success-overlay');
        const submitBtn = document.getElementById('submit-btn');

        form.addEventListener('submit', function(e) {
            e.preventDefault();
            const hCaptchaResponse = form.querySelector('[name="h-captcha-response"]')?.value;

            if (!hCaptchaResponse) { 
                alert("Veuillez valider le captcha."); 
                return; 
            }

            submitBtn.innerHTML = "ENVOI...";
            submitBtn.disabled = true;

            const formData = new FormData(form);
            const object = Object.fromEntries(formData);

            fetch('https://api.web3forms.com/submit', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
                body: JSON.stringify(object)
            })
            .then(response => {
                if (response.status == 200) {
                    form.style.display = 'none';
                    successOverlay.classList.remove('hidden');
                    successOverlay.classList.add('flex');
                } else {
                    submitBtn.innerHTML = "ERREUR";
                    submitBtn.disabled = false;
                }
            })
            .catch(() => {
                submitBtn.innerHTML = "ERREUR";
                submitBtn.disabled = false;
            });
        });
    </script>
</body>
</html>